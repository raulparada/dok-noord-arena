<head>
    <script src="https://unpkg.com/@tailwindcss/browser@4.0.14/dist/index.global.js"></script>
    <script src="https://unpkg.com/htmx.org@2.0.4"
        integrity="sha384-HGfztofotfshcF7+8n44JQL2oJmowVChPTg48S+jvZoztPfvwD79OC/LTtG6dMp+"
        crossorigin="anonymous"></script>
    <meta name="htmx-config" content='{"selfRequestsOnly":false}'>
    {#
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script> #}
    <script>
        console.log("players", "{{ PLAYERS }}")
        let players = "{{PLAYERS}}"
    </script>
</head>

<body
    class="
    grid grid-cols-1
    content-center
    justify-center
    justify-items-center
    items-center
    bg-stone-100
    font-system-ui">
    <table class="table-auto w-3/4">
        <p class="text-xl font-bold">
            Matches
        </p>
        <tbody>
            {% for match in MATCHES %}
            <tr>
                <td class="px-1 font-bold text-gray-400">{{ match.date }}</td>
                <td class="px-1 text-right {{ 'font-bold' if match.outcome == '1' else '' }}">{{ match.team_1 }}</td>
                <td class="px-3 text-center w-25 text-gray-500">âš«ï¸ vs âšªï¸</td>
                <td class="px-1 text-left {{ 'font-bold' if match.outcome == '2' else '' }}">{{ match.team_2 }}</td>
                {% if match.highlights_id %}
                <td class="px-1 font-medium text-blue-600 dark:text-blue-500 hover:underline"> <a
                        href="https://app.myplay.com/app/game/{{match.highlights_id}}/highlights">highlights</a></td>
                </td>
                {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <details
        class="grid grid-cols-1 content-center justify-center justify-items-center items-center group cursor-pointer">
        <summary class="text-blue-500 group-open:text-black">Start new...</summary>
        <form>
            <textarea
                placeholder="Tuesday DD/MM @20:00
1.â  Player 1
2.â  Player 2â 
3.â  Player 3
4.â  Player 4â 
5.â  Player 5â 
6.â  Player 6â 
7.â  Player 7â 
8.â  Player 8â 
9.â  Player 9â 
10.â  Player 10"
                class="relative resize-none h-70 w-60 border-2 border-blue-500"
                name="matchmaking"
                hx-post="{{ SERVER_URL }}/debug"></textarea>
        </form>
    </details>
    <br>

    {# Players #}
    <table>
        <p class="text-xl font-bold">
            Players
        </p>
        <thead>
            <tr>
                <th scope="col"></th> <!-- name -->
                <th scope="col">â›¹ï¸â€â™‚ï¸</th>
                <th>ğŸ…</th>
                <th>ğŸ¸</th>
                <th>ğŸ†</th>
            </tr>
        </thead>
        <tbody>
            {% for player in PLAYERS.values()|sort(attribute='stats.wins,alias', reverse=true) %}
            <tr>
                <th class="text-right px-2 font-semibold">
                    {{player.alias }}</th>
                <td class="px-1">{{player.stats.played}}</td>
                <td class="px-1">{{player.stats.wins}}</td>
                <td class="px-1">{{player.stats.losses}}</td>
                <td class="px-1">{{player.stats.tournament_wins}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
